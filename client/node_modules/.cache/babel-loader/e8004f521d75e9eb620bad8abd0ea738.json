{"ast":null,"code":"import React, { useMemo } from 'react';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { CloseIcon } from './icons';\nimport { useChannelActionContext } from '../../context/ChannelActionContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { useChatContext } from '../../context/ChatContext';\nexport var QuotedMessagePreviewHeader = function QuotedMessagePreviewHeader() {\n  var setQuotedMessage = useChannelActionContext('QuotedMessagePreview').setQuotedMessage;\n  var t = useTranslationContext('QuotedMessagePreview').t;\n  return React.createElement(\"div\", {\n    className: 'quoted-message-preview-header str-chat__quoted-message-preview-header'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__quoted-message-reply-to-message'\n  }, t('Reply to Message')), React.createElement(\"button\", {\n    \"aria-label\": 'Cancel Reply',\n    className: 'str-chat__square-button str-chat__quoted-message-remove',\n    onClick: function onClick() {\n      return setQuotedMessage(undefined);\n    }\n  }, React.createElement(CloseIcon, null)));\n};\nexport var QuotedMessagePreview = function QuotedMessagePreview(_a) {\n  var _b;\n  var quotedMessage = _a.quotedMessage;\n  var _c = useComponentContext('QuotedMessagePreview'),\n    Attachment = _c.Attachment,\n    _d = _c.Avatar,\n    Avatar = _d === void 0 ? DefaultAvatar : _d;\n  var userLanguage = useTranslationContext('QuotedMessagePreview').userLanguage;\n  var themeVersion = useChatContext('QuotedMessagePreview').themeVersion;\n  var quotedMessageText = ((_b = quotedMessage.i18n) === null || _b === void 0 ? void 0 : _b[\"\".concat(userLanguage, \"_text\")]) || quotedMessage.text;\n  var quotedMessageAttachment = useMemo(function () {\n    var _a;\n    var attachment = ((_a = quotedMessage.attachments) !== null && _a !== void 0 ? _a : [])[0];\n    return attachment ? [attachment] : [];\n  }, [quotedMessage.attachments]);\n  if (!quotedMessageText && !quotedMessageAttachment) return null;\n  // TODO: remove div.quoted-message-preview-content when deprecating V1 theming\n  // move str-chat__quoted-message-preview to main div\n  return React.createElement(\"div\", {\n    className: 'quoted-message-preview',\n    \"data-testid\": 'quoted-message-preview'\n  }, themeVersion === '1' && React.createElement(QuotedMessagePreviewHeader, null), React.createElement(\"div\", {\n    className: 'quoted-message-preview-content str-chat__quoted-message-preview'\n  }, quotedMessage.user && React.createElement(Avatar, {\n    image: quotedMessage.user.image,\n    name: quotedMessage.user.name || quotedMessage.user.id,\n    size: 20,\n    user: quotedMessage.user\n  }), React.createElement(\"div\", {\n    className: 'quoted-message-preview-content-inner str-chat__quoted-message-bubble'\n  }, !!quotedMessageAttachment.length && React.createElement(Attachment, {\n    attachments: quotedMessageAttachment\n  }), React.createElement(\"div\", {\n    className: 'str-chat__quoted-message-text',\n    \"data-testid\": 'quoted-message-text'\n  }, themeVersion === '2' && React.createElement(\"p\", null, quotedMessageText), themeVersion === '1' && React.createElement(React.Fragment, null, quotedMessageText)))));\n};","map":null,"metadata":{},"sourceType":"module"}