{"ast":null,"code":"import { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useUserRole = function useUserRole(message, onlySenderCanEdit, disableQuotedMessages) {\n  var _a, _b, _c;\n  var _d = useChannelStateContext('useUserRole'),\n    channel = _d.channel,\n    _e = _d.channelCapabilities,\n    channelCapabilities = _e === void 0 ? {} : _e;\n  var client = useChatContext('useUserRole').client;\n  /**\n   * @deprecated as it relies on `membership.role` check which is already deprecated and shouldn't be used anymore.\n   * `isAdmin` will be removed in future release. See `channelCapabilities`.\n   */\n  var isAdmin = ((_a = client.user) === null || _a === void 0 ? void 0 : _a.role) === 'admin' || channel.state.membership.role === 'admin';\n  /**\n   * @deprecated as it relies on `membership.role` check which is already deprecated and shouldn't be used anymore.\n   * `isOwner` will be removed in future release. See `channelCapabilities`.\n   */\n  var isOwner = channel.state.membership.role === 'owner';\n  /**\n   * @deprecated as it relies on `membership.role` check which is already deprecated and shouldn't be used anymore.\n   * `isModerator` will be removed in future release. See `channelCapabilities`.\n   */\n  var isModerator = ((_b = client.user) === null || _b === void 0 ? void 0 : _b.role) === 'channel_moderator' || channel.state.membership.role === 'channel_moderator' || channel.state.membership.role === 'moderator' || channel.state.membership.is_moderator === true || channel.state.membership.channel_role === 'channel_moderator';\n  var isMyMessage = client.userID === ((_c = message.user) === null || _c === void 0 ? void 0 : _c.id);\n  var canEdit = !onlySenderCanEdit && channelCapabilities['update-any-message'] || isMyMessage && channelCapabilities['update-own-message'];\n  var canDelete = channelCapabilities['delete-any-message'] || isMyMessage && channelCapabilities['delete-own-message'];\n  var canFlag = !isMyMessage && channelCapabilities['flag-message'];\n  var canMute = !isMyMessage && channelCapabilities['mute-channel'];\n  var canQuote = !disableQuotedMessages && channelCapabilities['quote-message'];\n  var canReact = channelCapabilities['send-reaction'];\n  var canReply = channelCapabilities['send-reply'];\n  return {\n    canDelete: canDelete,\n    canEdit: canEdit,\n    canFlag: canFlag,\n    canMute: canMute,\n    canQuote: canQuote,\n    canReact: canReact,\n    canReply: canReply,\n    isAdmin: isAdmin,\n    isModerator: isModerator,\n    isMyMessage: isMyMessage,\n    isOwner: isOwner\n  };\n};","map":null,"metadata":{},"sourceType":"module"}