{"ast":null,"code":"import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nexport var renderPreviewText = function renderPreviewText(text) {\n  return React.createElement(ReactMarkdown, {\n    skipHtml: true\n  }, text);\n};\nexport var getLatestMessagePreview = function getLatestMessagePreview(channel, t, userLanguage) {\n  var _a, _b;\n  if (userLanguage === void 0) {\n    userLanguage = 'en';\n  }\n  var latestMessage = channel.state.messages[channel.state.messages.length - 1];\n  var previewTextToRender = ((_a = latestMessage === null || latestMessage === void 0 ? void 0 : latestMessage.i18n) === null || _a === void 0 ? void 0 : _a[\"\".concat(userLanguage, \"_text\")]) || (latestMessage === null || latestMessage === void 0 ? void 0 : latestMessage.text);\n  if (!latestMessage) {\n    return t('Nothing yet...');\n  }\n  if (latestMessage.deleted_at) {\n    return t('Message deleted');\n  }\n  if (previewTextToRender) {\n    var renderedText = renderPreviewText(previewTextToRender);\n    return renderedText;\n  }\n  if (latestMessage.command) {\n    return \"/\".concat(latestMessage.command);\n  }\n  if ((_b = latestMessage.attachments) === null || _b === void 0 ? void 0 : _b.length) {\n    return t('üèô Attachment...');\n  }\n  return t('Empty message...');\n};\nexport var getDisplayTitle = function getDisplayTitle(channel, currentUser) {\n  var _a, _b;\n  var title = (_a = channel.data) === null || _a === void 0 ? void 0 : _a.name;\n  var members = Object.values(channel.state.members);\n  if (!title && members.length === 2) {\n    var otherMember = members.find(function (member) {\n      var _a;\n      return ((_a = member.user) === null || _a === void 0 ? void 0 : _a.id) !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id);\n    });\n    if ((_b = otherMember === null || otherMember === void 0 ? void 0 : otherMember.user) === null || _b === void 0 ? void 0 : _b.name) {\n      title = otherMember.user.name;\n    }\n  }\n  return title;\n};\nexport var getDisplayImage = function getDisplayImage(channel, currentUser) {\n  var _a, _b;\n  var image = (_a = channel.data) === null || _a === void 0 ? void 0 : _a.image;\n  var members = Object.values(channel.state.members);\n  if (!image && members.length === 2) {\n    var otherMember = members.find(function (member) {\n      var _a;\n      return ((_a = member.user) === null || _a === void 0 ? void 0 : _a.id) !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id);\n    });\n    if ((_b = otherMember === null || otherMember === void 0 ? void 0 : otherMember.user) === null || _b === void 0 ? void 0 : _b.image) {\n      image = otherMember.user.image;\n    }\n  }\n  return image;\n};","map":null,"metadata":{},"sourceType":"module"}