{"ast":null,"code":"import React, { useRef } from 'react';\nimport clsx from 'clsx';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nvar UnMemoizedChannelPreviewMessenger = function UnMemoizedChannelPreviewMessenger(props) {\n  var _a, _b;\n  var active = props.active,\n    _c = props.Avatar,\n    Avatar = _c === void 0 ? DefaultAvatar : _c,\n    channel = props.channel,\n    _d = props.className,\n    customClassName = _d === void 0 ? '' : _d,\n    displayImage = props.displayImage,\n    displayTitle = props.displayTitle,\n    latestMessage = props.latestMessage,\n    customOnSelectChannel = props.onSelect,\n    setActiveChannel = props.setActiveChannel,\n    unread = props.unread,\n    watchers = props.watchers;\n  var channelPreviewButton = useRef(null);\n  var avatarName = displayTitle || ((_b = (_a = channel.state.messages[channel.state.messages.length - 1]) === null || _a === void 0 ? void 0 : _a.user) === null || _b === void 0 ? void 0 : _b.id);\n  var onSelectChannel = function onSelectChannel(e) {\n    if (customOnSelectChannel) {\n      customOnSelectChannel(e);\n    } else if (setActiveChannel) {\n      setActiveChannel(channel, watchers);\n    }\n    if (channelPreviewButton === null || channelPreviewButton === void 0 ? void 0 : channelPreviewButton.current) {\n      channelPreviewButton.current.blur();\n    }\n  };\n  return React.createElement(\"button\", {\n    \"aria-label\": \"Select Channel: \".concat(displayTitle || ''),\n    \"aria-selected\": active,\n    className: clsx(\"str-chat__channel-preview-messenger str-chat__channel-preview\", active && 'str-chat__channel-preview-messenger--active', unread && unread >= 1 && 'str-chat__channel-preview-messenger--unread', customClassName),\n    \"data-testid\": 'channel-preview-button',\n    onClick: onSelectChannel,\n    ref: channelPreviewButton,\n    role: 'option'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__channel-preview-messenger--left'\n  }, React.createElement(Avatar, {\n    image: displayImage,\n    name: avatarName,\n    size: 40\n  })), React.createElement(\"div\", {\n    className: 'str-chat__channel-preview-messenger--right str-chat__channel-preview-end'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__channel-preview-end-first-row'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__channel-preview-messenger--name'\n  }, React.createElement(\"span\", null, displayTitle)), !!unread && React.createElement(\"div\", {\n    className: 'str-chat__channel-preview-unread-badge',\n    \"data-testid\": 'unread-badge'\n  }, unread)), React.createElement(\"div\", {\n    className: 'str-chat__channel-preview-messenger--last-message'\n  }, latestMessage)));\n};\n/**\n * Used as preview component for channel item in [ChannelList](#channellist) component.\n * Its best suited for messenger type chat.\n */\nexport var ChannelPreviewMessenger = React.memo(UnMemoizedChannelPreviewMessenger);","map":null,"metadata":{},"sourceType":"module"}