{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { getDisplayImage, getDisplayTitle } from '../utils';\nimport { useChatContext } from '../../../context';\nexport var useChannelPreviewInfo = function useChannelPreviewInfo(props) {\n  var channel = props.channel,\n    overrideImage = props.overrideImage,\n    overrideTitle = props.overrideTitle;\n  var client = useChatContext('ChannelPreview').client;\n  var _a = useState(getDisplayTitle(channel, client.user)),\n    displayTitle = _a[0],\n    setDisplayTitle = _a[1];\n  var _b = useState(getDisplayImage(channel, client.user)),\n    displayImage = _b[0],\n    setDisplayImage = _b[1];\n  useEffect(function () {\n    var handleEvent = function handleEvent() {\n      setDisplayTitle(function (displayTitle) {\n        var newDisplayTitle = getDisplayTitle(channel, client.user);\n        return displayTitle !== newDisplayTitle ? newDisplayTitle : displayTitle;\n      });\n      setDisplayImage(function (displayImage) {\n        var newDisplayImage = getDisplayImage(channel, client.user);\n        return displayImage !== newDisplayImage ? newDisplayImage : displayImage;\n      });\n    };\n    client.on('user.updated', handleEvent);\n    return function () {\n      client.off('user.updated', handleEvent);\n    };\n  }, []);\n  return {\n    displayImage: overrideImage || displayImage,\n    displayTitle: overrideTitle || displayTitle\n  };\n};","map":null,"metadata":{},"sourceType":"module"}