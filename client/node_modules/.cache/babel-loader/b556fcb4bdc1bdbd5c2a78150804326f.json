{"ast":null,"code":"import React, { useEffect, useRef } from 'react';\nimport { CloseIconRound } from './icons';\nimport { useChatContext, useTranslationContext } from '../../context';\nexport var Modal = function Modal(_a) {\n  var children = _a.children,\n    onClose = _a.onClose,\n    open = _a.open;\n  var t = useTranslationContext('Modal').t;\n  var themeVersion = useChatContext('Modal').themeVersion;\n  var innerRef = useRef(null);\n  var closeRef = useRef(null);\n  var handleClick = function handleClick(event) {\n    var target = event.target;\n    if (!innerRef.current || !closeRef.current) return;\n    if (!innerRef.current.contains(target) || closeRef.current.contains(target)) onClose === null || onClose === void 0 ? void 0 : onClose(event);\n  };\n  useEffect(function () {\n    if (!open) return;\n    var handleKeyDown = function handleKeyDown(event) {\n      if (event.key === 'Escape') onClose === null || onClose === void 0 ? void 0 : onClose(event);\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return function () {\n      return document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose, open]);\n  if (!open) return null;\n  return React.createElement(\"div\", {\n    className: 'str-chat__modal str-chat__modal--open',\n    onClick: handleClick\n  }, React.createElement(\"button\", {\n    className: 'str-chat__modal__close-button',\n    ref: closeRef,\n    title: t('Close')\n  }, themeVersion === '2' && React.createElement(CloseIconRound, null), themeVersion === '1' && React.createElement(React.Fragment, null, t('Close'), React.createElement(\"svg\", {\n    height: '10',\n    width: '10',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M9.916 1.027L8.973.084 5 4.058 1.027.084l-.943.943L4.058 5 .084 8.973l.943.943L5 5.942l3.973 3.974.943-.943L5.942 5z',\n    fillRule: 'evenodd'\n  })))), React.createElement(\"div\", {\n    className: 'str-chat__modal__inner str-chat-react__modal__inner',\n    ref: innerRef\n  }, children));\n};","map":null,"metadata":{},"sourceType":"module"}