{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { PauseIcon, PlayTriangleIcon } from './icons';\nimport { FileSizeIndicator } from './FileSizeIndicator';\nimport { DownloadButton } from './DownloadButton';\nimport { useAudioController } from './hooks/useAudioController';\nimport { useChatContext } from '../../context/ChatContext';\nvar AudioV1 = function AudioV1(_a) {\n  var og = _a.og;\n  var asset_url = og.asset_url,\n    description = og.description,\n    image_url = og.image_url,\n    text = og.text,\n    title = og.title;\n  var _b = useAudioController(),\n    audioRef = _b.audioRef,\n    isPlaying = _b.isPlaying,\n    progress = _b.progress,\n    togglePlay = _b.togglePlay;\n  return React.createElement(\"div\", {\n    className: 'str-chat__audio'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__audio__wrapper'\n  }, React.createElement(\"audio\", {\n    ref: audioRef\n  }, React.createElement(\"source\", {\n    \"data-testid\": 'audio-source',\n    src: asset_url,\n    type: 'audio/mp3'\n  })), React.createElement(\"div\", {\n    className: 'str-chat__audio__image'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__audio__image--overlay'\n  }, !isPlaying ? React.createElement(\"button\", {\n    className: 'str-chat__audio__image--button',\n    \"data-testid\": 'play-audio',\n    onClick: togglePlay\n  }, React.createElement(\"svg\", {\n    height: '40',\n    viewBox: '0 0 64 64',\n    width: '40',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M32 58c14.36 0 26-11.64 26-26S46.36 6 32 6 6 17.64 6 32s11.64 26 26 26zm0 6C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm13.237-28.412L26.135 45.625a3.27 3.27 0 0 1-4.426-1.4 3.319 3.319 0 0 1-.372-1.47L21 23.36c-.032-1.823 1.41-3.327 3.222-3.358a3.263 3.263 0 0 1 1.473.322l19.438 9.36a3.311 3.311 0 0 1 .103 5.905z',\n    fillRule: 'nonzero'\n  }))) : React.createElement(\"button\", {\n    className: 'str-chat__audio__image--button',\n    \"data-testid\": 'pause-audio',\n    onClick: togglePlay\n  }, React.createElement(\"svg\", {\n    height: '40',\n    viewBox: '0 0 64 64',\n    width: '40',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M32 58.215c14.478 0 26.215-11.737 26.215-26.215S46.478 5.785 32 5.785 5.785 17.522 5.785 32 17.522 58.215 32 58.215zM32 64C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm-7.412-45.56h2.892a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.892a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17zm12.293 0h2.893a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.893a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17z',\n    fillRule: 'nonzero'\n  })))), image_url && React.createElement(\"img\", {\n    alt: \"\".concat(description),\n    src: image_url\n  })), React.createElement(\"div\", {\n    className: 'str-chat__audio__content'\n  }, React.createElement(\"span\", {\n    className: 'str-chat__audio__content--title'\n  }, React.createElement(\"strong\", null, title)), React.createElement(\"span\", {\n    className: 'str-chat__audio__content--subtitle'\n  }, text), React.createElement(\"div\", {\n    className: 'str-chat__audio__content--progress'\n  }, React.createElement(\"div\", {\n    \"data-progress\": progress,\n    \"data-testid\": 'audio-progress',\n    role: 'progressbar',\n    style: {\n      width: \"\".concat(progress, \"%\")\n    }\n  })))));\n};\nexport var PlayButton = function PlayButton(_a) {\n  var isPlaying = _a.isPlaying,\n    onClick = _a.onClick;\n  return React.createElement(\"button\", {\n    className: 'str-chat__message-attachment-audio-widget--play-button',\n    \"data-testid\": isPlaying ? 'pause-audio' : 'play-audio',\n    onClick: onClick\n  }, isPlaying ? React.createElement(PauseIcon, null) : React.createElement(PlayTriangleIcon, null));\n};\nexport var ProgressBar = function ProgressBar(_a) {\n  var onClick = _a.onClick,\n    progress = _a.progress;\n  return React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--progress-track',\n    \"data-progress\": progress,\n    \"data-testid\": 'audio-progress',\n    onClick: onClick,\n    role: 'progressbar',\n    style: {\n      background: \"linear-gradient(\\n\\t\\t to right, \\n\\t\\t var(--str-chat__primary-color),\\n\\t\\t var(--str-chat__primary-color) \".concat(progress, \"%,\\n\\t\\t var(--str-chat__disabled-color) \").concat(progress, \"%,\\n\\t\\t var(--str-chat__disabled-color)\\n\\t  )\")\n    }\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--progress-slider',\n    style: {\n      left: \"\".concat(progress, \"px\")\n    }\n  }));\n};\nvar AudioV2 = function AudioV2(_a) {\n  var og = _a.og;\n  var asset_url = og.asset_url,\n    file_size = og.file_size,\n    title = og.title;\n  var _b = useAudioController(),\n    audioRef = _b.audioRef,\n    isPlaying = _b.isPlaying,\n    progress = _b.progress,\n    seek = _b.seek,\n    togglePlay = _b.togglePlay;\n  if (!asset_url) return null;\n  var dataTestId = 'audio-widget';\n  var rootClassName = 'str-chat__message-attachment-audio-widget';\n  return React.createElement(\"div\", {\n    className: rootClassName,\n    \"data-testid\": dataTestId\n  }, React.createElement(\"audio\", {\n    ref: audioRef\n  }, React.createElement(\"source\", {\n    \"data-testid\": 'audio-source',\n    src: asset_url,\n    type: 'audio/mp3'\n  })), React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--play-controls'\n  }, React.createElement(PlayButton, {\n    isPlaying: isPlaying,\n    onClick: togglePlay\n  })), React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--text'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--text-first-row'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--title'\n  }, title), React.createElement(DownloadButton, {\n    assetUrl: asset_url\n  })), React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--text-second-row'\n  }, React.createElement(FileSizeIndicator, {\n    fileSize: file_size\n  }), React.createElement(ProgressBar, {\n    onClick: seek,\n    progress: progress\n  }))));\n};\nvar UnMemoizedAudio = function UnMemoizedAudio(props) {\n  var themeVersion = useChatContext('Audio').themeVersion;\n  return themeVersion === '1' ? React.createElement(AudioV1, __assign({}, props)) : React.createElement(AudioV2, __assign({}, props));\n};\n/**\n * Audio attachment with play/pause button and progress bar\n */\nexport var Audio = React.memo(UnMemoizedAudio);","map":null,"metadata":{},"sourceType":"module"}