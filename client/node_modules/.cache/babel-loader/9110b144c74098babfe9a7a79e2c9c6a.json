{"ast":null,"code":"'use strict';\n\n/* Expose. */\nmodule.exports = visitParents;\n\n/* Visit. */\nfunction visitParents(tree, type, visitor) {\n  var stack = [];\n  if (typeof type === 'function') {\n    visitor = type;\n    type = null;\n  }\n  one(tree);\n\n  /* Visit a single node. */\n  function one(node) {\n    var result;\n    if (!type || node.type === type) {\n      result = visitor(node, stack.concat());\n    }\n    if (node.children && result !== false) {\n      return all(node.children, node);\n    }\n    return result;\n  }\n\n  /* Visit children in `parent`. */\n  function all(children, parent) {\n    var length = children.length;\n    var index = -1;\n    var child;\n    stack.push(parent);\n    while (++index < length) {\n      child = children[index];\n      if (child && one(child) === false) {\n        return false;\n      }\n    }\n    stack.pop();\n    return true;\n  }\n}","map":null,"metadata":{},"sourceType":"script"}